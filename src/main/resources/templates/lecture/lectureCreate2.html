<!--resources/templates/lecture/lectureCreate2-->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>강좌 개설 2단계</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>

<div class="container">
  <h2>강좌 개설 2단계 - 강좌 주차 정보</h2>

  <form id="weekForm">
    <div class="form-group">
      <label for="weekNumber">주차:</label>
      <input type="number" class="form-control" id="weekNumber" name="weekNumber" required>
    </div>

    <div class="form-group">
      <label for="weekTitle">주차 제목:</label>
      <input type="text" class="form-control" id="weekTitle" name="weekTitle" required>
    </div>

    <button type="button" class="btn btn-primary" onclick="submitWeekInfo()">주차 정보 추가</button>
    <button type="button" class="btn btn-success" onclick="completeLectureCreation()">강좌 개설하기</button>
  </form>

  <div id="result"></div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    let weeksInfo = [];

    function submitWeekInfo() {
        const weekNumber = $('#weekNumber').val();
        const weekTitle = $('#weekTitle').val();

        if(!weekNumber || !weekTitle) {
            alert('주차와 주차 제목을 입력해주세요.');
            return;
        }

        weeksInfo.push({ weekNumber, weekTitle });

        // UI 업데이트
        updateWeeksInfoUI();

        // 로컬 스토리지에 주차 정보 저장
        localStorage.setItem('weeksInfo', JSON.stringify(weeksInfo));
    }

    function updateWeeksInfoUI() {
        const resultDiv = $('#result');
        resultDiv.empty();

        weeksInfo.forEach(info => {
            const weekInfoDiv = `<div>주차: ${info.weekNumber}, 주차 제목: ${info.weekTitle}</div>`;
            resultDiv.append(weekInfoDiv);
        });
    }
</script>

</body>
</html>
